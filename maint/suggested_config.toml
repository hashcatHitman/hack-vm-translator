# SPDX-FileCopyrightText: Copyright Â© 2025 hashcatHitman
#
# SPDX-License-Identifier: Apache-2.0 OR MIT

[build]
rustflags = [
    # If I can make use of CPU-specific features I have, I'd like to.
    "-Ctarget-cpu=native",
    # Preferred linker
    "-Clink-arg=-fuse-ld=mold",
    # Improves compilation times, doesn't seem to impact runtime performance
    "-Zthreads=8",
    # Unstable lints
    "-Zcrate-attr=feature(strict_provenance_lints,unqualified_local_imports,must_not_suspend,multiple_supertrait_upcastable)",
    # For profiling.
    # "-Cforce-frame-pointers=yes",
    # "-Clink-arg=-Wl,--no-rosegment",
]

[future-incompat-report]
frequency = 'always'

[cargo-new]
vcs = "git"

[http]
ssl-version.min = "tlsv1.3"

[profile.release]
codegen-units = 1
strip = true
opt-level = 3
debug = false
lto = true
incremental = false

[profile.release.package."*"]
codegen-units = 1
strip = true
opt-level = 3
debug = false
incremental = false

[profile.release.build-override]
codegen-units = 1
strip = true
opt-level = 3
debug = false
incremental = false
